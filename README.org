#+TITLE:My Setup
- [[https://pixabay.com/vectors/mountains-panorama-forest-mountain-1412683/?download][Wallpaper]]
- [[file:Emacs.org::+TITLE:Emacs Configuration][Emacs]]
- [[https://github.com/hyprwm/Hyprland][Hyprland]]
- [[https://guix.gnu.org/][GNU Guix System]]
- Desktop shell: [[https://github.com/caelestia-dots/shell][Caelestia]] (Quickshell)
- PipeWire, Easy Effects
- File Manager: Gnome Files, Dired (Emacs)
- PDF Viewer: pdf-tools (Emacs)
- Theme: ef-melissa-dark
- Cursor theme: Bibata-Modern-Amber

* Table Of Contents :TOC:
- [[#setup][Setup]]
  - [[#clone--bootstrap][Clone & Bootstrap]]
  - [[#system-reconfigure][System Reconfigure]]
  - [[#home-reconfigure][Home Reconfigure]]
  - [[#what-gets-automated][What Gets Automated]]
- [[#keyboard][Keyboard]]
- [[#caelestia-shell][Caelestia Shell]]
  - [[#ipc-commands][IPC Commands]]
- [[#spicetify][Spicetify]]
- [[#slack][Slack]]
- [[#emacs][Emacs]]
- [[#references][References]]

* Setup

  [[https://guix.gnu.org/][GNU Guix System]] with Hyprland (Wayland) on NVIDIA (RTX 3070 Ti). Home environment at =home/redfish.scm= — dotfiles are deployed via =guix home reconfigure=.

** Clone & Bootstrap

#+begin_src sh :tangle no
cd ~
git clone https://github.com/snehrbass/dotfiles.git .dotfiles --recurse-submodules
cd .dotfiles
guix pull -C channels.scm
#+end_src

** System Reconfigure

#+begin_src sh :tangle no
sudo guix system reconfigure systems/redfish.scm
#+end_src

** Home Reconfigure

#+begin_src sh :tangle no
guix home reconfigure home/redfish.scm -L .
#+end_src

** What Gets Automated

   On =guix home reconfigure=, the activation service handles:
   - Flatpak: adds Flathub remote, installs Zen Browser / Spotify / Slack
   - Caelestia shell: clones QML config to =~/.config/quickshell/caelestia=

* Keyboard

[[images/keyboard.jpg]]

  - [[Https://boardsource.xyz/store/5ecc0f81eee64242946c988f][CorneV3]]
  - [[https://github.com/manna-harbour/miryoku][Layout]]

* Caelestia Shell

  Desktop shell built on [[https://quickshell.outfoxxed.me][Quickshell]]. Provides bar, dashboard, app launcher, session/lock screen, notifications, OSD, and media controls — all as Wayland layer surfaces.

** IPC Commands

   All commands use the form =caelestia shell <target> <function> [args...]=.

*** Drawers

    Toggle UI panels on/off.

    | Command                                  | Description         |
    |------------------------------------------+---------------------|
    | =caelestia shell drawers toggle bar=       | Toggle status bar   |
    | =caelestia shell drawers toggle dashboard= | Toggle dashboard    |
    | =caelestia shell drawers toggle launcher=  | Toggle app launcher |
    | =caelestia shell drawers toggle session=   | Toggle session menu |
    | =caelestia shell drawers toggle utilities= | Toggle utilities    |
    | =caelestia shell drawers toggle sidebar= | Toggle sidebar      |
    | =caelestia shell drawers toggle osd=       | Toggle OSD          |
    | =caelestia shell drawers list=             | List all drawers    |

*** Lock

    | Command                              | Description          |
    |--------------------------------------+----------------------|
    | =caelestia shell lock lock=          | Lock the screen      |
    | =caelestia shell lock unlock=        | Unlock the screen    |
    | =caelestia shell lock isLocked=      | Check lock state     |

*** Media (mpris)

    | Command                                          | Description            |
    |--------------------------------------------------+------------------------|
    | =caelestia shell mpris playPause=                | Toggle play/pause      |
    | =caelestia shell mpris play=                     | Play                   |
    | =caelestia shell mpris pause=                    | Pause                  |
    | =caelestia shell mpris next=                     | Next track             |
    | =caelestia shell mpris previous=                 | Previous track         |
    | =caelestia shell mpris stop=                     | Stop                   |
    | =caelestia shell mpris list=                     | List players           |
    | =caelestia shell mpris getActive <prop>=         | Get active player prop |

*** Wallpaper

    | Command                                      | Description         |
    |----------------------------------------------+---------------------|
    | =caelestia shell wallpaper get=              | Get current path    |
    | =caelestia shell wallpaper list=             | List available      |
    | =caelestia shell wallpaper set <path>=       | Set wallpaper       |

*** Brightness

    | Command                                              | Description               |
    |------------------------------------------------------+---------------------------|
    | =caelestia shell brightness get=                     | Get brightness (0.0-1.0)  |
    | =caelestia shell brightness set <value>=             | Set brightness            |
    | =caelestia shell brightness getFor <query>=          | Get for specific display  |
    | =caelestia shell brightness setFor <query> <value>=  | Set for specific display  |

*** Notifications

    | Command                                      | Description         |
    |----------------------------------------------+---------------------|
    | =caelestia shell notifs toggleDnd=            | Toggle Do Not Disturb |
    | =caelestia shell notifs isDndEnabled=         | Check DND state     |
    | =caelestia shell notifs clear=                | Clear notifications |

*** Toaster

    | Command                                                      | Description       |
    |--------------------------------------------------------------+-------------------|
    | =caelestia shell toaster info <title> <msg> <icon>=          | Info toast        |
    | =caelestia shell toaster warn <title> <msg> <icon>=          | Warning toast     |
    | =caelestia shell toaster error <title> <msg> <icon>=         | Error toast       |
    | =caelestia shell toaster success <title> <msg> <icon>=       | Success toast     |

*** Other

    | Command                                                  | Description                    |
    |----------------------------------------------------------+--------------------------------|
    | =caelestia shell picker open=                            | Open color picker              |
    | =caelestia shell controlCenter open=                     | Open control center            |
    | =caelestia shell idleInhibitor toggle=                   | Toggle idle inhibitor          |
    | =caelestia shell gameMode toggle=                        | Toggle game mode               |
    | =caelestia shell hypr cycleSpecialWorkspace <direction>= | Cycle special workspaces       |
    | =caelestia shell hypr refreshDevices=                    | Refresh input devices          |

*** Shell Management

    | Command                      | Description              |
    |------------------------------+--------------------------|
    | =caelestia shell -d=         | Start shell (daemon)     |
    | =caelestia shell -k=         | Kill shell               |
    | =caelestia shell -s=         | Show all IPC targets     |
    | =caelestia shell -l=         | Show shell log           |

* Spicetify

#+begin_src sh :tangle no
spicetify config current_theme Onepunch color_scheme light
spicetify restore backup
spicetify backup
spicetify apply
#+end_src

* Slack

   Set the theme to dark and paste values.

   TODO: Update Gruvbox colors below to match ef-melissa-dark theme.

#+begin_src :tangle no
#3C3836,#1A0404,#3C3836,#D5C4A1,#665C54,#EBDBB2,#FB4934,#D5C4A1,#D5C4A1,#282828
#+end_src

* Emacs

   My Emacs config can be found [[file:files/emacs/Emacs.org][here]]. =emacs-next-pgtk= is installed via =redfish.scm= with pgtk and native-comp.

   Run =M-x package-upgrade-all= after first launch to finish installing packages.

* References
- https://github.com/fufexan/dotfiles
- https://github.com/Axarva/dotfiles-2.0
- https://github.com/caelestia-dots/shell
