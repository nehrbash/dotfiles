#+TITLE:My Setup
- [[https://pixabay.com/vectors/mountains-panorama-forest-mountain-1412683/?download][Wallpaper]]
- [[file:Emacs.org::+TITLE:Emacs Configuration][Emacs]]
- [[https://github.com/hyprwm/Hyprland][Hyprland]]
- [[https://guix.gnu.org/][GNU Guix System]]
- nwg-shell (monitors, settings)
- Bar: eww
- pipe wire, easy effects
- File Manager: Gnome Files, Dired (Emacs)
- PDF Viewer: pdf-tools (Emacs)
- Theme: ef-melissa-dark
- Cursor theme: Bibata-Modern-Amber

* Table Of Contents :TOC:
- [[#setup][Setup]]
  - [[#clone--bootstrap][Clone & Bootstrap]]
  - [[#system-reconfigure][System Reconfigure]]
  - [[#home-reconfigure][Home Reconfigure]]
  - [[#what-gets-automated][What Gets Automated]]
- [[#keyboard][Keyboard]]
- [[#eww][Eww]]
  - [[#color-palette][Color palette]]
- [[#spicetify][Spicetify]]
- [[#slack][Slack]]
- [[#emacs][Emacs]]
- [[#references][References]]

* Setup

  [[https://guix.gnu.org/][GNU Guix System]] with Hyprland (Wayland) on NVIDIA (RTX 3070 Ti). Home environment at =config/home/redfish.scm= â€” dotfiles are deployed via =guix home reconfigure=.

** Clone & Bootstrap

#+begin_src sh :tangle no
cd ~
git clone https://github.com/snehrbass/dotfiles.git .dotfiles --recurse-submodules
cd .dotfiles
guix pull -C config/channels.scm
#+end_src

** System Reconfigure

#+begin_src sh :tangle no
sudo guix system reconfigure config/systems/ocean.scm
#+end_src

** Home Reconfigure

#+begin_src sh :tangle no
guix home reconfigure config/home/redfish.scm
#+end_src

** What Gets Automated

   On =guix home reconfigure=, the activation service handles:
   - Flatpak: adds Flathub remote, installs Zen Browser / Spotify / Slack
   - Eww/hyprshell: builds via =go install= into =~/.config/eww/bin/=

* Keyboard

[[images/keyboard.jpg]]

  - [[Https://boardsource.xyz/store/5ecc0f81eee64242946c988f][CorneV3]]
  - [[https://github.com/manna-harbour/miryoku][Layout]]

* Eww

  Widget bar using Yuck markup, SCSS, and a Go program (=hyprshell=) for Hyprland IPC integration. Manual build required; binary added to PATH via =home-environment-variables-service-type=.

#+begin_src sh :tangle no
go install github.com/nehrbash/hyprshell@latest
#+end_src

** Color palette

	Using my Emacs theme =ef-melissa-dark=. generated with this func.

#+begin_src emacs-lisp :tangle no
(defun export-palette-to-scss (palette tgt-file)
  "Export a color palette to SCSS format."
  (with-temp-buffer
	(dolist (pair palette)
	  (let ((name (car pair))
			(value (cadr pair)))
		(when (and (stringp value)  ; Check if value is a string
				   (string-match-p "^#[0-9A-Fa-f]\\{6\\}$" value))
		  (insert (format "$%s: %s;\n" name value)))))
	(write-region (point-min) (point-max) tgt-file)))

(export-palette-to-scss ef-melissa-dark-palette "~/.config/eww/css/_colors.scss")
#+end_src

* Spicetify

#+begin_src sh :tangle no
spicetify config current_theme Onepunch color_scheme light
spicetify restore backup
spicetify backup
spicetify apply
#+end_src

* Slack

   Set the theme to dark and paste values.

   TODO: Update Gruvbox colors below to match ef-melissa-dark theme.

#+begin_src :tangle no
#3C3836,#1A0404,#3C3836,#D5C4A1,#665C54,#EBDBB2,#FB4934,#D5C4A1,#D5C4A1,#282828
#+end_src

* Emacs

   My Emacs config can be found [[file:Emacs.org][here]]. =emacs-next-pgtk= is installed via =redfish.scm= with pgtk and native-comp.

   Run =M-x package-upgrade-all= after first launch to finish installing packages.

* References
- https://github.com/fufexan/dotfiles
- https://github.com/Axarva/dotfiles-2.0
- https://github.com/saimoomedits/eww-widgets
